---
description: Apply these rules when making changes to the project
globs: 
alwaysApply: true
---

Update this rule if user requested changes to the project requirement, etc.
# 项目需求文档

## 1. 项目概述

Maestro 是一款面向 AI 爱好者、开发者、内容创作者和研究专业人员的跨平台桌面聊天助手应用程序。该应用程序将多个 AI 模型（如 OpenAI、Anthropic、Deepseek、Ollama 和 OpenRouter）整合到一个统一界面中，允许用户通过一个强大的平台与每个服务进行交互。它通过清晰的三面板布局（划分为对话历史、活动聊天和工作工件）简化日常 AI 工作流程，实现统一访问。

该应用程序旨在提供跨 Windows、macOS 和 Linux 的一致云同步体验，使用户更容易同步聊天历史、偏好设置和自定义配置。关键目标包括多种 AI 模型的直观集成（使用用户提供的 API 密钥）、通过 Supabase 实现的稳健云存储、通过 Clerk Auth 实现的安全认证，以及支持免费和高级订阅级别。Maestro 的成功将通过其易用性、流畅动画和响应能力以及提供沉浸式和可扩展的 AI 增强聊天体验的能力来衡量。

## 2. 项目范围内与范围外

**范围内：**

*   为多个 AI 模型集成的统一界面（用户自备 API 密钥）。
*   三面板布局，明确划分为对话历史、活动聊天和工件区域。
*   使用 Supabase 进行基于云的聊天历史、模型偏好和工件的存储和同步。
*   用户认证由 Clerk Auth 管理，包括多种认证方法。
*   解说统一界面及其主要功能的引导流程。
*   支持基于丰富文本的聊天、流式响应和带语法高亮的代码生成。
*   MCP 服务器集成，配置和管理 MCP 服务器设置的专用页面以实现自定义工具扩展和工作流增强，如文件访问和数据分析。
*   支持免费和高级订阅级别。
*   跨平台兼容性（Windows、macOS、Linux），设计外观一致。
*   支持双语种（中文和英文），设计突出最小主义，使用亮蓝色（#0090FF）作为亮点，清晰的排版和细微动画。
*   仅在线模式，需网络连接才能操作。

**范围外：**

*   离线使用；应用程序必须连接到互联网才能正常工作。
*   多设备同时修改数据时云同步的高级冲突解决或版本控制。
*   除个体认证之外的管理员角色、提升权限或额外用户管理。
*   超过简单的免费与高级订阅级别之外的货币化策略。
*   过于装饰性的或非功能性的设计元素；重点依旧是简约和实用。

## 3. 用户流程

Maestro 的典型用户旅程始于由 Clerk Auth 提供支持的登录/注册屏幕。当启动应用程序时，新用户可以选择通过其首选的身份验证方法创建帐户或登录。身份验证后，用户将通过一份简短的上手指南介绍三面板布局及其主要功能。该上手指南清楚地解释了如何通过输入个人 API 密钥管理 AI 模型的连接，如 OpenAI、Anthropic 等。

上手指南完成后，用户进入主仪表板，看到分隔的三面板界面。左侧面板显示对话历史记录，中间用于与流媒体响应和代码生成（带语法高亮显示）的活动聊天交互，右侧面板显示受 Claude 启发的捕获的工作工件。此外，用户可以导航至设置，配置 MCP 服务器集成以实现自定义工具扩展，并管理其订阅级别。整个界面保持简约美感，留白充足、导航简单，细微动画确保易用性并专注于生产力。

## 4. 核心功能

*   **统一的 AI 模型接口：** • 支持与多种 AI 模型（OpenAI、Anthropic、Deepseek、Ollama、OpenRouter）的交互。 • 用户提供自己 API 密钥确保个性化和安全的连接。
*   **云同步：** • 安全存储聊天历史、模型偏好和工作工件在 Supabase 上。 • 提供跨设备的持续性确保用户体验一致。
*   **三面板布局：** • 左面板：快速访问历史会话。 • 中央面板：文本和流媒体响应的活动聊天区域，包括带语法高亮的代码生成。 • 右面板：捕捉关键对话时刻的工件和支持附加工具。
*   **MCP 服务器集成：** • 设置页面以配置 MCP（Model Context Protocol）服务器。 • 支持聊天工作流的集成额外工具功能，如文件访问和数据分析。
*   **认证与上手：** • 通过 Clerk Auth 提供安全登录，支持多种认证方法。 • 介绍应用程序功能和布局的上手流程。
*   **订阅管理：** • 免费和高级订阅级别，以清晰划分的可用功能。 • 在应用程序 UI 中直接集成简单升级路径。
*   **设计与可用性：** • 专业外观的简约设计，使用亮蓝色（#0090FF）作为亮点。 • 干净的排版，留白丰裕，导航清楚，动画顺畅。
*   **跨平台兼容性：** • 在 Windows、macOS 和 Linux 上提供一致的体验。 • 支持亮色和暗色模式主题。
